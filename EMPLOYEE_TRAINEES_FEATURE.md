# ุตูุญุฉ ูุชุฏุฑุจู ุงูููุธู

## ุงูููุฒุฉ ุงูุฌุฏูุฏุฉ
ุชู ุฅูุดุงุก ุตูุญุฉ ุฌุฏูุฏุฉ ูุนุฑุถ ุฌููุน ุงููุชุฏุฑุจูู ุงูุฐูู ุฌูุจูู ูุณูู ูุนููุ ูุน ุฅููุงููุฉ ุงูุจุญุซ ูุงูููุชุฑุฉ ูุงูุชุฑููู.

## ุงูุชุญุฏูุซุงุช ุงูููุฌุฒุฉ

### โ **1. ุชุญุฏูุซ Types (types/marketing.ts)**

#### ุฅุถุงูุฉ ุงูู Interfaces ุงูุฌุฏูุฏุฉ:
```typescript
export interface TraineeBasicInfo {
  id: number;
  nameAr: string;          // ุงูุงุณู ุจุงูุนุฑุจูุฉ
  nameEn: string;          // ุงูุงุณู ุจุงูุฅูุฌููุฒูุฉ
  nationalId: string;      // ุงูุฑูู ุงููููู
  phone: string;           // ุฑูู ุงููุงุชู
  email?: string | null;   // ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
  gender: Gender;          // ุงูุฌูุณ
  traineeStatus: TraineeStatus; // ุญุงูุฉ ุงููุชุฏุฑุจ
  programId: number;       // ูุนุฑู ุงูุจุฑูุงูุฌ
  createdAt: string;       // ISO date
  updatedAt: string;       // ISO date

  // ุงูุจุฑูุงูุฌ ุงูุชุฏุฑูุจู
  program: {
    id: number;
    nameAr: string;
  };
}

export interface EmployeeTraineesResponse {
  data: TraineeBasicInfo[];
  total: number;           // ุฅุฌูุงูู ุนุฏุฏ ุงููุชุฏุฑุจูู ุงูููุนููููู ููุฐุง ุงูููุธู
  page: number;            // ุงูุตูุญุฉ ุงูุญุงููุฉ
  limit: number;           // ุนุฏุฏ ุงูุนูุงุตุฑ ูู ุงูุตูุญุฉ
  totalPages: number;      // ุฅุฌูุงูู ุนุฏุฏ ุงูุตูุญุงุช
}
```

### โ **2. ุชุญุฏูุซ AuthService (services/AuthService.ts)**

#### ุฅุถุงูุฉ ุฏุงูุฉ getEmployeeTrainees:
```typescript
static async getEmployeeTrainees(employeeId: number, params?: {
  page?: number;
  limit?: number;
  search?: string;
  status?: string;
}): Promise<import('../types/marketing').EmployeeTraineesResponse> {
  try {
    const token = await this.getToken();
    if (!token) {
      throw new Error('Authentication token not found.');
    }

    const queryParams = new URLSearchParams();
    if (params?.page) queryParams.append('page', params.page.toString());
    if (params?.limit) queryParams.append('limit', params.limit.toString());
    if (params?.search) queryParams.append('search', params.search);
    if (params?.status) queryParams.append('status', params.status);

    const url = `http://10.0.2.2:4000/api/marketing/employees/${employeeId}/trainees?${queryParams.toString()}`;
    console.log('[AuthService] Fetching employee trainees from URL:', url);

    const response = await fetch(url, {
      method: 'GET',
      headers: {
        'Authorization': `Bearer ${token}`,
        'Content-Type': 'application/json',
      },
    });

    if (!response.ok) {
      const errorText = await response.text();
      throw new Error(errorText || `Failed to fetch employee trainees: ${response.status}`);
    }

    return response.json();
  } catch (error) {
    console.error('[AuthService] Error fetching employee trainees:', error);
    throw error;
  }
}
```

### โ **3. ุฅูุดุงุก TraineeBasicCard (components/TraineeBasicCard.tsx)**

#### ุงููููู ุงูุฌุฏูุฏ ูุนุฑุถ ูุนูููุงุช ุงููุชุฏุฑุจ ุงูุฃุณุงุณูุฉ:
```typescript
interface TraineeBasicCardProps {
  trainee: TraineeBasicInfo;
  onPress?: () => void;
}
```

#### ุงูููุฒุงุช:
- **ุนุฑุถ ูุนูููุงุช ุงููุชุฏุฑุจ** - ุงูุงุณูุ ุงููุงุชูุ ุงูุฅููููุ ุงูุฑูู ุงููููู
- **ุนุฑุถ ุญุงูุฉ ุงููุชุฏุฑุจ** - ูุน ููู ููุงุณุจ (ูุดุทุ ุบูุฑ ูุดุทุ ูุนููุ ูุชุฎุฑุฌ)
- **ุนุฑุถ ุงูุฌูุณ** - ูุน ุฃููููุฉ ููุงุณุจุฉ (ุฐูุฑ/ุฃูุซู)
- **ุนุฑุถ ุงูุจุฑูุงูุฌ ุงูุชุฏุฑูุจู** - ุงุณู ุงูุจุฑูุงูุฌ
- **ุชุตููู ูุฏูุฌ** - ูุงุฑุช ุฃุตุบุฑ ูุฃูุซุฑ ุชุฑููุฒุงู

#### ุงูุฃูุณุงู:
1. **Header** - ุตูุฑุฉ ุงููุชุฏุฑุจุ ุงูุงุณูุ ุงูุญุงูุฉ
2. **Contact Info** - ุงููุงุชูุ ุงูุฅููููุ ุงูุฑูู ุงููููู
3. **Program Info** - ุงูุจุฑูุงูุฌ ุงูุชุฏุฑูุจู
4. **Footer** - ุชูุงุฑูุฎ ุงูุชุณุฌูู ูุงูุชุญุฏูุซ

### โ **4. ุฅูุดุงุก EmployeeTraineesScreen (screens/EmployeeTraineesScreen.tsx)**

#### ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ุงูุฌุฏูุฏุฉ:
```typescript
interface EmployeeTraineesScreenProps {
  navigation: any;
  route: {
    params: {
      employeeId: number;
      employeeName: string;
    };
  };
}
```

#### ุงูููุฒุงุช:
- **ูุนุฑู ุงูููุธู** - ูุชู ุชูุฑูุฑ employeeId ู employeeName ูู ุงูุตูุญุฉ ุงูุณุงุจูุฉ
- **ุงูุจุญุซ** - ุจุงูุงุณูุ ุงููุงุชูุ ุงูุฑูู ุงููููู
- **ุงูููุงุชุฑ** - ุญุณุจ ุญุงูุฉ ุงููุชุฏุฑุจ
- **ุงูุชุฑููู** - pagination ูุน ุชุญููู ุงููุฒูุฏ
- **ุงูุฅุญุตุงุฆูุงุช** - ุฅุฌูุงูู ุงููุชุฏุฑุจููุ ุงููุนุฑูุถููุ ุนุฏุฏ ุงูุตูุญุงุช
- **ุงูุชุญุฏูุซ** - pull-to-refresh
- **ุฒุฑ ุงูุนูุฏุฉ** - ููุนูุฏุฉ ูุตูุญุฉ ุงููุณูููู

### โ **5. ุชุญุฏูุซ MarketersScreen (screens/MarketersScreen.tsx)**

#### ุฅุถุงูุฉ ุฒุฑ "ุงููุชุฏุฑุจูู":
```typescript
<TouchableOpacity 
  style={[styles.editBtn, { backgroundColor: '#dbeafe' }]} 
  onPress={() => navigation.navigate('EmployeeTrainees', { 
    employeeId: emp.id, 
    employeeName: emp.name 
  })}
>
  <Text style={[styles.editBtnText, { color: '#1e40af' }]}>ุงููุชุฏุฑุจูู</Text>
</TouchableOpacity>
```

### โ **6. ุชุญุฏูุซ ุงูุชููู (App.tsx)**

#### ุฅุถุงูุฉ ุงูุตูุญุฉ ููุชููู:
```typescript
import EmployeeTraineesScreen from './src/screens/EmployeeTraineesScreen';

<Stack.Screen name="EmployeeTrainees" component={EmployeeTraineesScreen} />
```

## ุงูู API Endpoint

### **GET /api/marketing/employees/{employeeId}/trainees**

#### Path Parameters:
- `employeeId` - ูุนุฑู ููุธู ุงูุชุณููู

#### Query Parameters:
```typescript
{
  page?: number;              // ุงูุตูุญุฉ (ุงูุชุฑุงุถู: 1)
  limit?: number;             // ุนุฏุฏ ุงูุนูุงุตุฑ (ุงูุชุฑุงุถู: 20)
  search?: string;            // ุงูุจุญุซ ุจุงูุงุณู ุฃู ุงููุงุชู
  status?: string;            // ููุชุฑ ุญุณุจ ุงูุญุงูุฉ
}
```

#### Response:
```typescript
{
  data: TraineeBasicInfo[];
  total: number;              // ุฅุฌูุงูู ุนุฏุฏ ุงููุชุฏุฑุจูู ุงูููุนููููู ููุฐุง ุงูููุธู
  page: number;               // ุงูุตูุญุฉ ุงูุญุงููุฉ
  limit: number;              // ุนุฏุฏ ุงูุนูุงุตุฑ ูู ุงูุตูุญุฉ
  totalPages: number;         // ุฅุฌูุงูู ุนุฏุฏ ุงูุตูุญุงุช
}
```

## ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ

### โ **1. ุนุฑุถ ูุชุฏุฑุจู ููุธู ูุนูู**
- ูุนูููุงุช ุดุฎุตูุฉ ูุงููุฉ ูููุชุฏุฑุจูู
- ุงูุจุฑูุงูุฌ ุงูุชุฏุฑูุจู ููู ูุชุฏุฑุจ
- ุญุงูุฉ ุงููุชุฏุฑุจ ูุน ุฃููุงู ููุงุณุจุฉ

### โ **2. ุงูุจุญุซ ูุงูููุชุฑุฉ**
- ุงูุจุญุซ ุจุงูุงุณู ุฃู ุงููุงุชู ุฃู ุงูุฑูู ุงููููู
- ููุชุฑุฉ ุญุณุจ ุญุงูุฉ ุงููุชุฏุฑุจ
- ูุชุงุฆุฌ ูุญุฏุซุฉ ููุฑูุงู

### โ **3. ุงูุชุฑููู ูุงูุชุญููู**
- ุชุฑููู ุงูุตูุญุงุช
- ุชุญููู ุงููุฒูุฏ
- ุฅุญุตุงุฆูุงุช ุดุงููุฉ
- ุชุญุฏูุซ ุชููุงุฆู

### โ **4. ุงูุชููู ุงูุณูุณ**
- ุฒุฑ ุงูุนูุฏุฉ ูุตูุญุฉ ุงููุณูููู
- ุชูุฑูุฑ ูุนุฑู ุงูููุธู ูุงุณูู
- ุนุฑุถ ุงุณู ุงูููุธู ูู ุงูููุฏุฑ

### โ **5. ูุงุฌูุฉ ูุณุชุฎุฏู ูุญุณูุฉ**
- ุชุตููู ูุฏูุฌ ูููุฑูุช
- ุฃููุงู ููุงุณุจุฉ ููู ูุณู
- ุฃููููุงุช ูุงุถุญุฉ
- ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุณูุณุฉ

## ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ุงููุตูู ููุตูุญุฉ
- ุงูุชูู ุฅูู "ุฅุฏุงุฑุฉ ุงูุชุณููู" > "ููุธูู ุงูุชุณููู"
- ุงุถุบุท ุนูู ุฒุฑ "ุงููุชุฏุฑุจูู" ูู ูุงุฑุช ุฃู ููุธู

### 2. ุงูุจุญุซ ูุงูููุชุฑุฉ
- ุงุณุชุฎุฏู ุดุฑูุท ุงูุจุญุซ ููุจุญุซ ุจุงูุงุณู ุฃู ุงููุงุชู
- ุงุฎุชุฑ ุญุงูุฉ ุงููุชุฏุฑุจ ูู ุงููุงุฆูุฉ ุงูููุณุฏูุฉ
- ุงุถุบุท ุนูู ุฃููููุฉ ุงูุชุญุฏูุซ ูุชุญุฏูุซ ุงูุจูุงูุงุช

### 3. ุนุฑุถ ุงูุชูุงุตูู
- ูู ูุงุฑุช ูุนุฑุถ ูุนูููุงุช ุงููุชุฏุฑุจ ุงูุฃุณุงุณูุฉ
- ุงูุจุฑูุงูุฌ ุงูุชุฏุฑูุจู ูุน ููู ูููุฒ
- ุญุงูุฉ ุงููุชุฏุฑุจ ูุน ููู ููุงุณุจ

### 4. ุงูุชุฑููู
- ุงุณุชุฎุฏู "ุชุญููู ุงููุฒูุฏ" ูุฑุคูุฉ ุงููุฒูุฏ ูู ุงููุชุฏุฑุจูู
- ุดุงูุฏ ุฅุญุตุงุฆูุงุช ุงูุตูุญุงุช ูู ุงูุฃุณูู

### 5. ุงูุนูุฏุฉ
- ุงุถุบุท ุนูู ุฒุฑ ุงูุนูุฏุฉ ููุนูุฏุฉ ูุตูุญุฉ ุงููุณูููู

## ุงูุงุฎุชุจุงุฑ

### 1. ุงุฎุชุจุงุฑ ุงูุชููู
```typescript
// ุงูุชุญ ุตูุญุฉ ุงููุณูููู
// ุงุถุบุท ุนูู ุฒุฑ "ุงููุชุฏุฑุจูู" ูุฃู ููุธู
// ุชุฃูุฏ ูู ูุชุญ ุตูุญุฉ ูุชุฏุฑุจู ุงูููุธู
// ุชุฃูุฏ ูู ุนุฑุถ ุงุณู ุงูููุธู ูู ุงูููุฏุฑ
```

### 2. ุงุฎุชุจุงุฑ ุชุญููู ุงูุจูุงูุงุช
```typescript
// ุชุฃูุฏ ูู ุชุญููู ุจูุงูุงุช ุงููุชุฏุฑุจูู
// ุชุฃูุฏ ูู ุนุฑุถ ุงูุฅุญุตุงุฆูุงุช
// ุชุฃูุฏ ูู ุนูู ุงูุชุฑููู
```

### 3. ุงุฎุชุจุงุฑ ุงูุจุญุซ
```typescript
// ุฌุฑุจ ุงูุจุญุซ ุจุงูุงุณู
// ุฌุฑุจ ุงูุจุญุซ ุจุงููุงุชู
// ุฌุฑุจ ุงูุจุญุซ ุจุงูุฑูู ุงููููู
// ุชุฃูุฏ ูู ุชุญุฏูุซ ุงููุชุงุฆุฌ
```

### 4. ุงุฎุชุจุงุฑ ุงูููุงุชุฑ
```typescript
// ุฌุฑุจ ููุชุฑุฉ ุญุณุจ ุงูุญุงูุฉ
// ุชุฃูุฏ ูู ุชุญุฏูุซ ุงููุชุงุฆุฌ
// ุฌุฑุจ ุฅุฒุงูุฉ ุงูููุชุฑ
```

### 5. ุงุฎุชุจุงุฑ ุงูุชุฑููู
```typescript
// ุชุฃูุฏ ูู ุนูู "ุชุญููู ุงููุฒูุฏ"
// ุชุฃูุฏ ูู ุชุญุฏูุซ ุงูุฅุญุตุงุฆูุงุช
// ุชุฃูุฏ ูู ุนุฏู ุชูุฑุงุฑ ุงูุจูุงูุงุช
```

### 6. ุงุฎุชุจุงุฑ ุงูุนูุฏุฉ
```typescript
// ุงุถุบุท ุนูู ุฒุฑ ุงูุนูุฏุฉ
// ุชุฃูุฏ ูู ุงูุนูุฏุฉ ูุตูุญุฉ ุงููุณูููู
```

## ุงูุฎูุงุตุฉ

ุชู ุฅูุดุงุก ุตูุญุฉ ูุชุฏุฑุจู ุงูููุธู ุจูุฌุงุญ:

- โ **ุชุญุฏูุซ Types** - TraineeBasicInfo ู EmployeeTraineesResponse
- โ **ุชุญุฏูุซ AuthService** - ุฏุงูุฉ getEmployeeTrainees ูุน ููุงุชุฑ
- โ **ุฅูุดุงุก TraineeBasicCard** - ุนุฑุถ ูุฏูุฌ ููุนูููุงุช ุงููุชุฏุฑุจ
- โ **ุฅูุดุงุก EmployeeTraineesScreen** - ุตูุญุฉ ุดุงููุฉ ูุน ุจุญุซ ูููุชุฑุฉ
- โ **ุชุญุฏูุซ MarketersScreen** - ุฅุถุงูุฉ ุฒุฑ "ุงููุชุฏุฑุจูู"
- โ **ุชุญุฏูุซ ุงูุชููู** - ุฅุถุงูุฉ ุงูุตูุญุฉ ููุชููู

ุงูุตูุญุฉ ุงูุขู ุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู ูุน ุงูู endpoint ุงูุฌุฏูุฏ! ๐

**ููุงุญุธุฉ:** ุงูุตูุญุฉ ุชุฏุนู ุงูุจุญุซ ูุงูููุชุฑุฉ ุงููุชูุฏูุฉ ููููู ุชุทููุฑูุง ูุฅุถุงูุฉ ุงููุฒูุฏ ูู ุงูููุงุชุฑ ุญุณุจ ุงูุญุงุฌุฉ. ููุง ูููู ุฅุถุงูุฉ ููุฒุงุช ุฃุฎุฑู ูุซู ุชุตุฏูุฑ ุงูุจูุงูุงุช ุฃู ุฅุญุตุงุฆูุงุช ููุตูุฉ.
